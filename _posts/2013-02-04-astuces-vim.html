---
title: Mes astuces Vim
description: Mes astuces Vim
layout: blog
---
<p>Voici quelques astuces que j'ai apprises en jouant à VimGolf</p>

<h3>Gagner une frappe de touche</h3>
<table>
    <thead>
        <tr>
            <th>long</th>
            <th>court</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>hx</code></td>
            <td><code>X</code></td>
            <td>supprimer le caractère avant le curseur</td>
        </tr>
        <tr>
            <td><code>j^</code></td>
            <td><code>+</code></td>
            <td>aller au premier caractère non vide de la ligne suivante</td>
        </tr>
        <tr>
            <td><code>k^</code></td>
            <td><code>-</code></td>
            <td>aller au premier caractère non vide de la ligne précédente</td>
        </tr>
        <tr>
            <td><code>d$</code></td>
            <td><code>D</code></td>
            <td>supprimer jusqu'à la fin de la ligne</td>
        </tr>
        <tr>
            <td><code>jdd</code></td>
            <td><code>JD</code></td>
            <td>supprimer la ligne du dessous</td>
        </tr>
        <tr>
            <td><code>2dd</code></td>
            <td><code>dj</code></td>
            <td>supprimer la ligne courant et celle du dessous</td>
        </tr>
        <tr>
            <td><code>f)</code></td>
            <td><code>%</code></td>
            <td>aller à la prochaine parenthèse fermante</td>
        </tr>
    </tbody>
</table>

<h3>Quelques commandes Ex</h3>
<p>Commençons par un rappel historique : Vim est le successeur de Vi qui est lui même le successeur de Ex.</p>
<table>
    <thead>
        <tr>
            <th>normal</th>
            <th>commande</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>jdd</code></td>
            <td><code>:+d</code></td>
            <td>supprimer la ligne du dessous</td>
        </tr>
        <tr>
            <td><code>yyjp</code></td>
            <td><code>:t+</code></td>
            <td>Copier la ligne courante en dessous de la ligne du dessous</td>
        </tr>
        <tr>
            <td><code>ddggP</code></td>
            <td><code>:m0</code></td>
            <td>Déplacer la ligne courante au début du fichier</td>
        </tr>
    </tbody>
</table><h3>Opérateurs commençant par g</h3>
<p>Avec Vim, il suffit de doubler les opérateurs pour qu'ils s'appliquent à la ligne courante. Par exemple : <code>dd</code>. Et pour certains opérateurs, il existe même une syntaxe raccourcie.</p>
<table>
    <thead>
        <tr>
            <th>long</th>
            <th>court</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>gugu</code></td>
            <td><code>guu</code></td>
            <td>mettre la ligne courante en minuscule</td>
        </tr>
        <tr>
            <td><code>gUgU</code></td>
            <td><code>gUU</code></td>
            <td>mettre la ligne courante en majuscule</td>
        </tr>
        <tr>
            <td><code>g?g?</code></td>
            <td><code>g??</code></td>
            <td>mettre la ligne courante en ROT13</td>
        </tr>
        <tr>
            <td><code>g~g~</code></td>
            <td><code>g~~</code></td>
            <td>inverser la casse de ligne courante</td>
        </tr>
    </tbody>
</table>

<h3>Recherche et substitution</h3>
<table>
    <thead>
        <tr>
            <th>long</th>
            <th>court</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td></td>
            <td><code>:g/^/m0</code></td>
            <td>inverser l'ordre du fichier</td>
        </tr>
        <tr>
            <td><code>:s</code></td>
            <td><code>&amp;</code></td>
            <td>répéter la dernière substitution</td>
        </tr>
        <tr>
            <td><code>:%s//~/g</code></td>
            <td><code>g&amp;</code></td>
            <td>répéter la dernière substitution sur tout le fichier</td>
        </tr>
        <tr>
            <td></td>
            <td><code>@:</code></td>
            <td>répéter la dernière ex commande</td>
        </tr>
    </tbody>
</table>

<h3>Quelques commandes avec la touche Ctrl</h3>
<table>
    <thead>
        <tr>
            <th>commande</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>&lt;C-x&gt;&lt;C-l&gt;</code></td>
            <td>en mode insertion, complétion pour une ligne entière</td>
        </tr>
        <tr>
            <td><code>&lt;C-n&gt;</code> / <code>&lt;C-p&gt;</code></td>
            <td>en mode insertion, insérer le mot suivant/précédent correspondant (complétion)</td>
        </tr>
        <tr>
            <td><code>&lt;C-o&gt;</code></td>
            <td>revenir au dernier emplacement visité</td>
        </tr>
        <tr>
            <td><code>&lt;C-a&gt;</code> / <code>&lt;C-x&gt;</code></td>
            <td>en mode normal, incrémenter / décrémenter le prochain nombre sur la ligne</td>
        </tr>
    </tbody>
</table>

<h3>Entourer un mot</h3>
<p>Pour entourer un mot avec des parenthèses, nous faisons généralement en mode normal <code>i(&lt;Esc&gt;ea)&lt;Esc&gt;</code>, ce qui fait 7 touches. Mais il existe plus efficace : <code>cw()&lt;Esc&gt;P</code>, ce qui fait 6 touches.</p>
<p>Malheureusement, ce n'est pas rejouable avec la commande <code>.</code>. Pour pallier à cela, on peut faire <code>cw(&lt;c-r&gt;&lt;c-o&gt;")</code></p>
<pre class="prettyprint">:h i_CTRL-R_CTRL-O</pre>
<p>
    Dernière possibilité, utiliser le plugin <a
        href="https://github.com/tpope/vim-surround">vim-surround</a> de Tim Pope.
    Il suffit alors de faire <code>veS"</code>.
</p>
